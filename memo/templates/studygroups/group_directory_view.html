{% extends "base.html" %}
{% load static rules i18n %}

{% block title %} {% trans "Group Directory" %} {% endblock %}

{% block content %}
<div class="container">

  <div class="row mt-3">

    <div class="col-sm-10">
      <h1>{% trans "Group Directory" %}</h1>
    </div>
    <div class="col-sm-2">

      {% test_rule 'can_create_studygroup' request.user as can_create_studygroup %}
      {% if can_create_studygroup %}
        <a href="{% url 'studygroups:group_create_view' %}" role="button"
          class="btn btn-block btn-success"
          title="Create new study group">
          {% trans 'Create Group' %}
        </a>
      {% else %}
        <a href="{% url 'studygroups:group_create_view' %}" role="button"
          class="btn btn-block btn-success disabled"
          title="Upgrade your plan">
          {% trans 'Create Group (Upgrade)' %}
        </a>
      {% endif %}

    </div>
  </div>

  <div class="row mt-3 justify-content-center">
    {% include "utils/partials/_paginator.html" with page_obj=page_obj %}
  </div>

  <div class="row mb-3">

    {# Pagination #}

    {% for group in page_obj %}
      <div class="col-xs-12 col-md-6 col-lg-4 mt-3">
        {% include "studygroups/partials/_group_card.html" with group=group %}
      </div>
    {% endfor %}

  </div>

  <div class="row mt-3 justify-content-center">
    {% include "utils/partials/_paginator.html" with page_obj=page_obj %}
  </div>

</div>
{% endblock content %}
